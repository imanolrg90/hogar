{% extends "base.html" %}

{% block title %}Gimnasio{% endblock %}

{% block content %}
<div class="header-section" style="margin-bottom: 30px;">
    <h1>Gimnasio</h1>
    <p style="color: var(--text-muted);">Sigue tu progreso y supera tus límites.</p>
</div>

<div class="bento-grid">
    
<div class="bento-card span-2" style="background: var(--text-main); color: white; padding: 25px; position: relative; overflow: hidden;">
        
        <i class="fas fa-dumbbell" style="position: absolute; right: -20px; bottom: -30px; font-size: 8rem; color: white; opacity: 0.05; transform: rotate(-20deg);"></i>

        <div style="display: flex; justify-content: space-between; align-items: center; height: 100%; position: relative; z-index: 1;">
            
            <div>
                <h2 style="margin: 0; font-size: 1.6rem; letter-spacing: -0.5px; font-weight: 700;">
                    Entrenamiento
                </h2>
                <p style="opacity: 0.7; margin-top: 6px; font-size: 0.95rem; font-weight: 400;">
                    Registra tu sesión de hoy
                </p>
            </div>

            <a href="{{ url_for('gym_log') }}" 
               style="
                    background: white;
                    color: var(--text-main);
                    text-decoration: none;
                    padding: 12px 28px;
                    border-radius: 50px; 
                    font-weight: 700;
                    font-size: 0.85rem;
                    display: inline-flex;
                    align-items: center;
                    gap: 10px;
                    transition: all 0.2s ease;
                    box-shadow: 0 4px 15px rgba(0,0,0,0.2);
                    border: none;
               "
               onmouseover="this.style.transform='translateY(-2px)'; this.style.boxShadow='0 6px 20px rgba(0,0,0,0.3)';" 
               onmouseout="this.style.transform='translateY(0)'; this.style.boxShadow='0 4px 15px rgba(0,0,0,0.2)';"
            >
                <i class="fas fa-play" style="font-size: 0.8em;"></i> 
                <span>EMPEZAR</span>
            </a>
        </div>
    </div>

    <div class="bento-card">
        <div class="widget-title"><i class="fas fa-dumbbell"></i> Catálogo</div>
        <div style="font-size: 2.5rem; font-weight: 800;">{{ exercises|length }}</div>
        <div style="color: var(--text-muted); font-size: 0.9rem; margin-bottom: 10px;">Ejercicios configurados</div>
        <a href="{{ url_for('gym_exercises') }}" style="color: var(--primary); font-weight: 600; text-decoration: none;">
            Gestionar &rarr;
        </a>
    </div>

    <div class="bento-card">
        <div class="widget-title"><i class="fas fa-list-ol"></i> Rutinas</div>
        <div style="font-size: 2.5rem; font-weight: 800;">{{ routines|length }}</div>
        <div style="color: var(--text-muted); font-size: 0.9rem; margin-bottom: 10px;">Planes guardados</div>
        <a href="{{ url_for('gym_routines') }}" style="color: var(--primary); font-weight: 600; text-decoration: none;">
            Ver todas &rarr;
        </a>
    </div>
    <div class="bento-card" style="background: #F0FDF4; border: 1px solid #BBF7D0;">
        <div class="widget-title" style="color: #166534;"><i class="fas fa-ruler-combined"></i> Medidas</div>
        <div style="font-size: 2.5rem; font-weight: 800; color: #166534;">
            <i class="fas fa-weight"></i>
        </div>
        <div style="color: #15803d; font-size: 0.9rem; margin-bottom: 10px;">Peso y Dimensiones</div>
        <a href="{{ url_for('gym_measurements') }}" style="color: #166534; font-weight: 700; text-decoration: none;">
            Ver progreso &rarr;
        </a>
    </div>
    <div class="bento-card span-3">
        <div class="widget-title"><i class="fas fa-history"></i> Últimas Sesiones</div>
        <ul class="clean-list">
            {% for session in sessions %}
            <li style="display: block; padding: 10px 0;">
                <div style="display: flex; justify-content: space-between; margin-bottom: 5px;">
                    <span style="font-weight: 700;">{{ session.date.strftime('%d/%m/%Y') }}</span>
                    <span style="font-size: 0.85rem; color: var(--text-muted);">{{ session.sets|length }} series</span>
                </div>
                <div style="font-size: 0.9rem; color: var(--text-muted); white-space: nowrap; overflow: hidden; text-overflow: ellipsis;">
                    {{ session.summary }}
                </div>
                
            </li>
            
            {% else %}
                <li style="color: var(--text-muted); font-style: italic;">No has entrenado recientemente.</li>
            {% endfor %}
        </ul>
        <a href="{{ url_for('gym_history') }}" style="font-size: 0.85rem; color: var(--primary); font-weight: 600; text-decoration: none;">Ver todas &rarr;</a>
    </div>

</div>
{% endblock %}