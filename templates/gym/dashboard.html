{% extends "base.html" %}

{% block title %}Gimnasio{% endblock %}

{% block content %}
<div class="header-section" style="margin-bottom: 30px;">
    <h1>Gimnasio</h1>
    <p style="color: var(--text-muted);">Sigue tu progreso y supera tus límites.</p>
</div>

<div class="bento-grid">
    
    <div class="bento-card span-2" style="background: var(--text-main); color: white;">
        <div style="display: flex; justify-content: space-between; align-items: center; height: 100%;">
            <div>
                <h2 style="margin: 0; font-size: 1.5rem;">Registrar Entrenamiento</h2>
                <p style="opacity: 0.8; margin-top: 5px;">Anota tus series de hoy</p>
            </div>
            <a href="{{ url_for('gym_log') }}" class="action-key" style="background: white; color: var(--text-main); text-decoration: none; width: auto; padding: 0 20px;">
                <i class="fas fa-plus"></i> Empezar
            </a>
        </div>
    </div>

    <div class="bento-card">
        <div class="widget-title"><i class="fas fa-dumbbell"></i> Catálogo</div>
        <div style="font-size: 2.5rem; font-weight: 800;">{{ exercises|length }}</div>
        <div style="color: var(--text-muted); font-size: 0.9rem; margin-bottom: 10px;">Ejercicios configurados</div>
        <a href="{{ url_for('gym_exercises') }}" style="color: var(--primary); font-weight: 600; text-decoration: none;">
            Gestionar &rarr;
        </a>
    </div>

    <div class="bento-card">
        <div class="widget-title"><i class="fas fa-list-ol"></i> Rutinas</div>
        <div style="font-size: 2.5rem; font-weight: 800;">{{ routines|length }}</div>
        <div style="color: var(--text-muted); font-size: 0.9rem; margin-bottom: 10px;">Planes guardados</div>
        <a href="{{ url_for('gym_routines') }}" style="color: var(--primary); font-weight: 600; text-decoration: none;">
            Ver todas &rarr;
        </a>
    </div>

    <div class="bento-card span-3">
        <div class="widget-title"><i class="fas fa-history"></i> Últimas Sesiones</div>
        <ul class="clean-list">
            {% for session in sessions %}
            <li style="display: block; padding: 10px 0;">
                <div style="display: flex; justify-content: space-between; margin-bottom: 5px;">
                    <span style="font-weight: 700;">{{ session.date.strftime('%d/%m/%Y') }}</span>
                    <span style="font-size: 0.85rem; color: var(--text-muted);">{{ session.sets|length }} series</span>
                </div>
                <div style="font-size: 0.9rem; color: var(--text-muted); white-space: nowrap; overflow: hidden; text-overflow: ellipsis;">
                    {{ session.summary }}
                </div>
            </li>
            {% else %}
                <li style="color: var(--text-muted); font-style: italic;">No has entrenado recientemente.</li>
            {% endfor %}
        </ul>
    </div>

</div>
{% endblock %}